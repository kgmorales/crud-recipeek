generator client {
  provider        = "prisma-client-js"
  binaryTargets   = ["native", "darwin-arm64"]
  previewFeatures = ["multiSchema"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  schemas  = ["nestjs"]
}

model Bookmark {
  url        String
  title      String
  uid        String @id
  order_flag Int

  @@schema("nestjs")
}

model Category {
  name       String
  uid        String @id
  parent_uid String
  order_flag Int

  @@schema("nestjs")
}

model GroceryItem {
  aisle      String
  uid        String  @id
  order_flag Int
  recipe     String
  name       String
  purchased  Boolean
  recipe_uid String
  ingredient String

  @@schema("nestjs")
}

model Meal {
  uid        String @id
  order_flag Int
  recipe_uid String
  date       String
  type       Int
  name       String

  @@schema("nestjs")
}

model Menu {
  notes      String
  uid        String @id
  name       String
  order_flag Int

  @@schema("nestjs")
}

model MenuItem {
  name       String
  recipe_uid String
  uid        String @id
  menu_uid   String
  order_flag Int

  @@schema("nestjs")
}

model PantryItem {
  aisle      String
  uid        String @id
  ingredient String

  @@schema("nestjs")
}

model ScrapedRecipe {
  id                Int      @id @default(autoincrement())
  author            String?
  canonical_url     String
  category          String
  cook_time         Int?
  description       String?
  host              String?
  image             String?
  ingredients       String[]
  instructions      String
  instructions_list String[]
  language          String
  nutrients         Json?
  prep_time         Int?
  ratings           Int?
  site_name         String
  title             String
  total_time        Int?
  yields            String?

  @@schema("nestjs")
}

model Recipe {
  categories       String[]
  cook_time        String
  created          String
  difficulty       String
  directions       String
  hash             String
  ingredients      String
  image_url        String
  name             String
  notes            String
  nutritional_info String
  on_favorites     Boolean
  photo            String
  photo_url        String
  photo_hash       String
  prep_time        String
  rating           Int
  scale            String
  servings         String
  source           String
  source_url       String
  uid              String   @id

  @@schema("nestjs")
}

model RecipeItem {
  hash String
  uid  String @id

  @@schema("nestjs")
}

model Status {
  uid        Int @id
  recipes    Int
  pantry     Int
  meals      Int
  menus      Int
  groceries  Int
  bookmarks  Int
  menuitems  Int
  categories Int

  @@schema("nestjs")
}

model PaprikaToken {
  id    Int    @id @default(autoincrement())
  token String @unique

  @@schema("nestjs")
}

model PaprikaConfig {
  id          Int     @id @default(autoincrement())
  baseURL     String
  user        String
  password    String
  bearerToken String?

  @@schema("nestjs")
}

model TokenResult {
  id    Int    @id @default(autoincrement())
  token String

  @@schema("nestjs")
}
